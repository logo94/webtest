<!DOCTYPE html>
<html>
<head>
  <title>Test Fetch</title>
</head>
<body>


  <script>
    window.proxyFetch = async (url, options = {}) => {
      console.log('[INLINE - proxyFetch] Intercettata chiamata a:', url, options);
      // Simula una risposta semplice per il test
      return new Response(JSON.stringify({ message: "Risposta simulata dal proxy inline" }), { status: 200 });
    };
  </script>
  <script>
    window.onload = function() {
      window.proxyFetch('https://www.wikidata.org/w/api.php?action=query&meta=tokens&format=json')
        .then(response => response.json())
        .then(data => console.log('Dati ricevuti:', data))
        .catch(error => console.error('Errore proxyFetch:', error));
    };
  </script>
</body>
</html>
